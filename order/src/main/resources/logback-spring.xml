<?xml version="1.0" encoding="UTF-8"?>
<configuration  scan="true" scanPeriod="60 seconds" debug="false">
<!-- TRACE < DEBUG < INFO < WARN < ERROR < FATAL -->
    <contextName>client</contextName>
    <!-- windows环境下 -->
    <property name="log.path" value="D:/eclipse/logfile/client"></property> 
    <!-- linux环境下 -->   
   <!--  <property name="log.path" value="/home/huster/logfile/client"></property> -->
    <!--1 输出到控制台-->
    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
    	<!-- 输出控制台级别 -->
       <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>debug</level>
        </filter>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} %contextName [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>
 
    <!--2 输出到文件-->
    <appender name="file" class="ch.qos.logback.core.rolling.RollingFileAppender">
    	<!-- 正在记录的日志文档的路径及文档名 -->
    	<file>${log.path}/client.log</file>
        <!-- 输入到文件级别 -->
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
        	<level>info</level>
        </filter>
        <!-- 日志记录的滚动策略 -->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
        	<!-- 日志归档 -->
            <fileNamePattern>${log.path}/client-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
            	<maxFileSize>100MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
            <!-- 保存日志天数 -->
            <maxHistory>30</maxHistory>
        </rollingPolicy>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} %contextName [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>
 
 	<!-- 添加定义的appender -->
    <root level="info">
        <appender-ref ref="console" />
        <appender-ref ref="file" />
    </root>
 
    <!-- 不同环境写配置 -->
    <springProfile name="test,dev">
    	<logger name="com.hust.client.controller" level="debug"></logger>
    </springProfile>
    <springProfile name="pro">
    	<logger name="com.hust.client.controller" level="info"></logger>
    </springProfile>
</configuration>